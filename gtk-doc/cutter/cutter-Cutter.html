<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Cutter</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Cutter Reference Manual">
<link rel="up" href="writing-test.html" title="Writing test">
<link rel="prev" href="writing-test.html" title="Writing test">
<link rel="next" href="cutter-Version-Information.html" title="Version Information">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="writing-test.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="writing-test.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Cutter Reference Manual</th>
<td><a accesskey="n" href="cutter-Version-Information.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#cutter-Cutter.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#cutter-Cutter.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="Cutter">
<a name="cutter-Cutter"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="cutter-Cutter.top_of_page"></a>Cutter</span></h2>
<p>Cutter — A Unit Testing Framework for C and C++.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="cutter-Cutter.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis"><span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#setup" title="setup ()">setup</a>                               (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()">cut_setup</a>                           (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#teardown" title="teardown ()">teardown</a>                            (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()">cut_teardown</a>                        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-startup" title="cut_startup ()">cut_startup</a>                         (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-shutdown" title="cut_shutdown ()">cut_shutdown</a>                        (<em class="parameter"><code><span class="type">void</span></code></em>);
#define             <a class="link" href="cutter-Cutter.html#cut-add-data" title="cut_add_data()">cut_add_data</a>                        (first_data_name,
                                                         ...)
#define             <a class="link" href="cutter-Cutter.html#cut-add-data-backward-compatibility" title="cut_add_data_backward_compatibility()">cut_add_data_backward_compatibility</a> (context,
                                                         ...)
#define             <a class="link" href="cutter-Cutter.html#cut-set-attributes" title="cut_set_attributes()">cut_set_attributes</a>                  (first_attribute_name,
                                                         ...)
#define             <a class="link" href="cutter-Cutter.html#cut-get-current-test-context" title="cut_get_current_test_context">cut_get_current_test_context</a>
#define             <a class="link" href="cutter-Cutter.html#cut-set-current-test-context" title="cut_set_current_test_context()">cut_set_current_test_context</a>        (test_context)
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-set-message" title="cut_set_message ()">cut_set_message</a>                     (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-set-message-va-list" title="cut_set_message_va_list ()">cut_set_message_va_list</a>             (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code><span class="type">va_list</span> args</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-keep-message" title="cut_keep_message ()">cut_keep_message</a>                    (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="cutter-Cutter.html#cut-message" title="cut_message ()">cut_message</a>                         (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
#define             <a class="link" href="cutter-Cutter.html#CUT-EXPORT:CAPS" title="CUT_EXPORT">CUT_EXPORT</a>
</pre>
</div>
<div class="refsect1" title="Description">
<a name="cutter-Cutter.description"></a><h2>Description</h2>
<p>
Cutter is a Unit Testing Framework for C and C++ and has
the following features:
</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
Easy to use. Cutter doesn't introduce any magic macros
like CUTTER_DEFINE_TEST_START and CUTTER_DEFINE_TEST_END
into your test program. You can write your test program
like normal program. You only use <code class="function">cut_assert_XXX()</code> to
check that your program works as you expect.
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#include &lt;cutter.h&gt;</span>
<span class="preproc">#include</span> <span class="gtkdoc dstr">&quot;my-stack.h&quot;</span><span class="preproc"></span>

<span class="gtkdoc kwb">void</span>
<span class="function">test_my_stack</span> <span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
    MyStack <span class="symbol">*</span>stack <span class="symbol">=</span> <span class="function">my_stack_new</span><span class="symbol">();</span>

    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-not-null">cut_assert_not_null</a></span><span class="symbol">(</span>stack<span class="symbol">);</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert">cut_assert</a></span><span class="symbol">(</span><span class="function">my_stack_is_empty</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-int">cut_assert_equal_int</a></span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span> <span class="function">my_stack_get_size</span><span class="symbol">(</span>stack<span class="symbol">));</span>

    <span class="function">my_stack_push</span><span class="symbol">(</span>stack<span class="symbol">,</span> <span class="number">10</span><span class="symbol">);</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert">cut_assert</a></span><span class="symbol">(!</span><span class="function">my_stack_is_empty</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-int">cut_assert_equal_int</a></span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span> <span class="function">my_stack_get_size</span><span class="symbol">(</span>stack<span class="symbol">));</span>

    <span class="function">my_stack_push</span><span class="symbol">(</span>stack<span class="symbol">,</span> <span class="number">20</span><span class="symbol">);</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-int">cut_assert_equal_int</a></span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span> <span class="function">my_stack_get_size</span><span class="symbol">(</span>stack<span class="symbol">));</span>

    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal">cut_assert_equal</a></span><span class="symbol">(</span><span class="number">20</span><span class="symbol">,</span> <span class="function">my_stack_pop</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert">cut_assert</a></span><span class="symbol">(!</span><span class="function">my_stack_is_empty</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-int">cut_assert_equal_int</a></span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span> <span class="function">my_stack_get_size</span><span class="symbol">(</span>stack<span class="symbol">));</span>

    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal">cut_assert_equal</a></span><span class="symbol">(</span><span class="number">10</span><span class="symbol">,</span> <span class="function">my_stack_pop</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert">cut_assert</a></span><span class="symbol">(</span><span class="function">my_stack_is_empty</span><span class="symbol">(</span>stack<span class="symbol">));</span>
    <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-int">cut_assert_equal_int</a></span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span> <span class="function">my_stack_get_size</span><span class="symbol">(</span>stack<span class="symbol">));</span>
<span class="symbol">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
  </p>
</li>
<li class="listitem">
<p>
Simple but useful output. Cutter works quietly if tests
are running without any problems by default. The
following is an output of self test:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="symbol">...........................................................</span>

Finished in <span class="number">0.213021</span> seconds

<span class="number">59</span> <span class="function">test</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">246</span> <span class="function">assertion</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">failure</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">error</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">pending</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">notification</span><span class="symbol">(</span>s<span class="symbol">)</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
Cutter just outputs "." for a passed test and a summary
at the end. Cutter doesn't output each test name, how
many assertions are used for a test and so because we
don't need the information on success.
  </p>
<p>
Cutter outputs many information on failure:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="symbol">.....................</span>F<span class="symbol">.....................................</span>

<span class="number">1</span><span class="symbol">)</span> Failure<span class="symbol">:</span> test_error
<span class="symbol">&lt;</span><span class="string">&quot;Strange&quot;</span> <span class="symbol">==</span> <span class="function">cut_test_result_get_test_name</span><span class="symbol">(</span>result<span class="symbol">)&gt;</span>
expected<span class="symbol">: &lt;</span>Strange<span class="symbol">!!!&gt;</span>
 but was<span class="symbol">: &lt;</span>dummy<span class="symbol">-</span>error<span class="symbol">-</span>test<span class="symbol">&gt;</span>
test<span class="symbol">/</span>test<span class="symbol">-</span>cut<span class="symbol">-</span>assertions<span class="symbol">.</span>c<span class="symbol">:</span><span class="number">240</span><span class="symbol">:</span> <span class="function">cut_assert_test_result</span><span class="symbol">()</span>

Finished in <span class="number">0.223657</span> seconds

<span class="number">59</span> <span class="function">test</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">242</span> <span class="function">assertion</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">1</span> <span class="function">failure</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">error</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">pending</span><span class="symbol">(</span>s<span class="symbol">),</span> <span class="number">0</span> <span class="function">notification</span><span class="symbol">(</span>s<span class="symbol">)</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
The above result is happened because I add a strange
expected staring in Cutter's self test:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-string">cut_assert_equal_string</a></span><span class="symbol">(</span><span class="string">&quot;Strange!!!&quot;</span><span class="symbol">,</span> <span class="function">cut_test_result_get_test_name</span><span class="symbol">(</span>result<span class="symbol">));</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
The strange assertion is written in the 240th line in
test/test-cut-assertions.c and the line is in the
<code class="function">cut_assert_test_result()</code> function. The function is called
in test_error test. We expected
cut_test_result_get_test_name(result) should return
"Strange!!!" but got "dummy-error-name". We can get the
above information from Cutter output. This will help your
debug.
  </p>
<p>
Cutter's output format is pragmatic. ' but was:' is
indented and aligned with the above 'expected:'. This
helps that you find difference between expected value and
actual value by your eyes easily. The problem line is
formated as 'FILENAME:LINE: FUNCTION' to integrate
Emacs. In Emacs's compilation-mode, if the format is
appeared in *compilation* buffer, we can jump to FILENAME
at LINE with next-error command. (C-x `) This helps that you
find the problem line rapidly.
  </p>
<p>
Cutter supports not only easy test writing but also easy
debugging.
  </p>
</li>
</ul></div>
<p>
</p>
</div>
<div class="refsect1" title="Details">
<a name="cutter-Cutter.details"></a><h2>Details</h2>
<div class="refsect2" title="setup ()">
<a name="setup"></a><h3>setup ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                setup                               (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">setup</code> has been deprecated since version 1.0.7 and should not be used in newly-written code. Use <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()"><code class="function">cut_setup()</code></a> instead.</p>
</div>
<p>
If you define <a class="link" href="cutter-Cutter.html#setup" title="setup ()"><code class="function">setup()</code></a> in your test program, cutter will
call your <a class="link" href="cutter-Cutter.html#setup" title="setup ()"><code class="function">setup()</code></a> before each your test is run. If you
define <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()"><code class="function">cut_setup()</code></a>, <a class="link" href="cutter-Cutter.html#setup" title="setup ()"><code class="function">setup()</code></a> is ignored.
</p>
</div>
<hr>
<div class="refsect2" title="cut_setup ()">
<a name="cut-setup"></a><h3>cut_setup ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_setup                           (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
If you define <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()"><code class="function">cut_setup()</code></a> in your test program, cutter
will call your <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()"><code class="function">cut_setup()</code></a> before each your test is
run. <a class="link" href="cutter-Cutter.html#cut-setup" title="cut_setup ()"><code class="function">cut_setup()</code></a> has priority over <a class="link" href="cutter-Cutter.html#setup" title="setup ()"><code class="function">setup()</code></a>.
</p>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="teardown ()">
<a name="teardown"></a><h3>teardown ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                teardown                            (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">teardown</code> has been deprecated since version 1.0.7 and should not be used in newly-written code. Use <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()"><code class="function">cut_teardown()</code></a> instead.</p>
</div>
<p>
If you define <a class="link" href="cutter-Cutter.html#teardown" title="teardown ()"><code class="function">teardown()</code></a> in your test program, cutter will
call your <a class="link" href="cutter-Cutter.html#teardown" title="teardown ()"><code class="function">teardown()</code></a> after each your test is run even if
a test is failed. If you define <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()"><code class="function">cut_teardown()</code></a>,
<a class="link" href="cutter-Cutter.html#teardown" title="teardown ()"><code class="function">teardown()</code></a> is ignored.
</p>
</div>
<hr>
<div class="refsect2" title="cut_teardown ()">
<a name="cut-teardown"></a><h3>cut_teardown ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_teardown                        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
If you define <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()"><code class="function">cut_teardown()</code></a> in your test program, cutter
will call your <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()"><code class="function">cut_teardown()</code></a> after each your test is run
even if a test is failed. <a class="link" href="cutter-Cutter.html#cut-teardown" title="cut_teardown ()"><code class="function">cut_teardown()</code></a> has priority
over <a class="link" href="cutter-Cutter.html#teardown" title="teardown ()"><code class="function">teardown()</code></a>.
</p>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_startup ()">
<a name="cut-startup"></a><h3>cut_startup ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_startup                         (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
If you define <a class="link" href="cutter-Cutter.html#cut-startup" title="cut_startup ()"><code class="function">cut_startup()</code></a> in your test program, cutter
will call your <a class="link" href="cutter-Cutter.html#cut-startup" title="cut_startup ()"><code class="function">cut_startup()</code></a> before each your test case
is run. <a class="link" href="cutter-Cutter.html#cut-startup" title="cut_startup ()"><code class="function">cut_startup()</code></a> has priority over <code class="function">startup()</code>.
</p>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_shutdown ()">
<a name="cut-shutdown"></a><h3>cut_shutdown ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_shutdown                        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
If you define <code class="function">shutdown()</code> in your test program, cutter
will call your <code class="function">shutdown()</code> after each your test case is
run.  <a class="link" href="cutter-Cutter.html#cut-shutdown" title="cut_shutdown ()"><code class="function">cut_shutdown()</code></a> has priority over <code class="function">shutdown()</code>.
</p>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_add_data()">
<a name="cut-add-data"></a><h3>cut_add_data()</h3>
<pre class="programlisting">#define             cut_add_data(first_data_name, ...)</pre>
<p>
Adds data to use data driven test.
</p>
<p>
e.g.:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#include &lt;cutter.h&gt;</span>

<span class="gtkdoc kwb">void</span> <span class="function">data_translate</span> <span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">);</span>
<span class="gtkdoc kwb">void</span> <span class="function">test_translate</span> <span class="symbol">(</span><span class="gtkdoc kwb">const void</span> <span class="symbol">*</span>data<span class="symbol">);</span>

<span class="gtkdoc kwb">static const char</span><span class="symbol">*</span>
<span class="function">translate</span> <span class="symbol">(</span><span class="gtkdoc kwb">int</span> input<span class="symbol">)</span>
<span class="symbol">{</span>
   <span class="keyword">switch</span><span class="symbol">(</span>input<span class="symbol">) {</span>
   <span class="keyword">case</span> <span class="number">1</span><span class="symbol">:</span>
       <span class="keyword">return</span> <span class="string">&quot;first&quot;</span><span class="symbol">;</span>
   <span class="keyword">case</span> <span class="number">111</span><span class="symbol">:</span>
       <span class="keyword">return</span> <span class="string">&quot;a hundred eleven&quot;</span><span class="symbol">;</span>
   <span class="keyword">default</span><span class="symbol">:</span>
       <span class="keyword">return</span> <span class="string">&quot;unsupported&quot;</span><span class="symbol">;</span>
   <span class="symbol">}</span>
<span class="symbol">}</span>

<span class="gtkdoc kwc">typedef</span> <span class="gtkdoc kwb">struct</span> _TranslateTestData
<span class="symbol">{</span>
    <span class="gtkdoc kwb">char</span> <span class="symbol">*</span>translated<span class="symbol">;</span>
    <span class="gtkdoc kwb">int</span> input<span class="symbol">;</span>
<span class="symbol">}</span> TranslateTestData<span class="symbol">;</span>

<span class="gtkdoc kwb">static</span> TranslateTestData <span class="symbol">*</span>
<span class="function">translate_test_data_new</span> <span class="symbol">(</span><span class="gtkdoc kwb">char</span> <span class="symbol">*</span>translated<span class="symbol">,</span> <span class="gtkdoc kwb">int</span> input<span class="symbol">)</span>
<span class="symbol">{</span>
    TranslateTestData <span class="symbol">*</span>data<span class="symbol">;</span>

    data <span class="symbol">=</span> <span class="function">malloc</span><span class="symbol">(</span><span class="keyword">sizeof</span><span class="symbol">(</span>TranslateTestData<span class="symbol">));</span>
    data<span class="symbol">-&gt;</span>translated <span class="symbol">=</span> <span class="function">strdup</span><span class="symbol">(</span>translated<span class="symbol">);</span>
    data<span class="symbol">-&gt;</span>input <span class="symbol">=</span> input<span class="symbol">;</span>

    <span class="keyword">return</span> data<span class="symbol">;</span>
<span class="symbol">}</span>

<span class="gtkdoc kwb">static void</span>
<span class="function">translate_test_data_free</span> <span class="symbol">(</span>TranslateTestData <span class="symbol">*</span>data<span class="symbol">)</span>
<span class="symbol">{</span>
    <span class="function">free</span><span class="symbol">(</span>data<span class="symbol">-&gt;</span>translated<span class="symbol">);</span>
    <span class="function">free</span><span class="symbol">(</span>data<span class="symbol">);</span>
<span class="symbol">}</span>

<span class="gtkdoc kwb">void</span>
<span class="function">data_translate</span><span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
    <span class="function"><a href="../cutter/cutter-Cutter.html#cut-add-data">cut_add_data</a></span><span class="symbol">(</span><span class="string">&quot;simple data&quot;</span><span class="symbol">,</span>
                 <span class="function">translate_test_data_new</span><span class="symbol">(</span><span class="string">&quot;first&quot;</span><span class="symbol">,</span> <span class="number">1</span><span class="symbol">),</span>
                 translate_test_data_free<span class="symbol">,</span>
                 <span class="string">&quot;complex data&quot;</span><span class="symbol">,</span>
                 <span class="function">translate_test_data_new</span><span class="symbol">(</span><span class="string">&quot;a hundred eleven&quot;</span><span class="symbol">,</span> <span class="number">111</span><span class="symbol">),</span>
                 translate_test_data_free<span class="symbol">,</span>
                 NULL<span class="symbol">);</span>
<span class="symbol">}</span>

<span class="gtkdoc kwb">void</span>
<span class="function">test_translate</span><span class="symbol">(</span><span class="gtkdoc kwb">const void</span> <span class="symbol">*</span>data<span class="symbol">)</span>
<span class="symbol">{</span>
     <span class="gtkdoc kwb">const</span> TranslateTestData <span class="symbol">*</span>test_data <span class="symbol">=</span> data<span class="symbol">;</span>

     <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-string">cut_assert_equal_string</a></span><span class="symbol">(</span>test_data<span class="symbol">-&gt;</span>translated<span class="symbol">,</span>
                             <span class="function">translate</span><span class="symbol">(</span>test_data<span class="symbol">-&gt;</span>input<span class="symbol">));</span>
<span class="symbol">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_data_name</code></em> :</span></p></td>
<td>The first data name.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>The data and destroy function of the first data,
      followed optionally by more
      name/data/destroy_function(<a class="link" href="cutter-Types.html#CutDestroyFunction" title="CutDestroyFunction ()"><span class="type">CutDestroyFunction</span></a>)
      triples. The variable arguments should be terminated
      by <code class="literal">NULL</code> since 1.0.6.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0.3</p>
</div>
<hr>
<div class="refsect2" title="cut_add_data_backward_compatibility()">
<a name="cut-add-data-backward-compatibility"></a><h3>cut_add_data_backward_compatibility()</h3>
<pre class="programlisting">#define             cut_add_data_backward_compatibility(context, ...)</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">cut_add_data_backward_compatibility</code> is deprecated and should not be used in newly-written code.</p>
</div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>context</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="cut_set_attributes()">
<a name="cut-set-attributes"></a><h3>cut_set_attributes()</h3>
<pre class="programlisting">#define             cut_set_attributes(first_attribute_name, ...)</pre>
<p>
Sets attributes of the test.
</p>
<p>
e.g.:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#include &lt;cutter.h&gt;</span>

<span class="gtkdoc kwb">void</span> <span class="function">attributes_repeat</span> <span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">);</span>
<span class="gtkdoc kwb">void</span> <span class="function">test_repeat</span> <span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">);</span>

<span class="gtkdoc kwb">void</span>
<span class="function">attributes_repeat</span><span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
    <span class="function"><a href="../cutter/cutter-Cutter.html#cut-set-attributes">cut_set_attributes</a></span><span class="symbol">(</span><span class="string">&quot;description&quot;</span><span class="symbol">,</span> <span class="string">&quot;a test for repeat function&quot;</span><span class="symbol">,</span>
                       <span class="string">&quot;bug&quot;</span><span class="symbol">,</span> <span class="string">&quot;111&quot;</span><span class="symbol">,</span>
                       <span class="string">&quot;priority&quot;</span><span class="symbol">,</span> <span class="string">&quot;high&quot;</span><span class="symbol">,</span>
                       NULL<span class="symbol">);</span>
<span class="symbol">}</span>

<span class="gtkdoc kwb">void</span>
<span class="function">test_repeat</span><span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
     <span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-string-with-free">cut_assert_equal_string_with_free</a></span><span class="symbol">(</span><span class="string">&quot;XXX&quot;</span><span class="symbol">,</span> <span class="function">repeat</span><span class="symbol">(</span><span class="string">&quot;X&quot;</span><span class="symbol">,</span> <span class="number">3</span><span class="symbol">));</span>
<span class="symbol">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_attribute_name</code></em> :</span></p></td>
<td>The first attribute name.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>The value of the first attribute, followed
      optionally by more name/value pairs.
      <code class="literal">NULL</code>-terminate is required since 1.0.7.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0.4</p>
</div>
<hr>
<div class="refsect2" title="cut_get_current_test_context">
<a name="cut-get-current-test-context"></a><h3>cut_get_current_test_context</h3>
<pre class="programlisting">#define             cut_get_current_test_context()</pre>
<p>
Returns the current test context. The current test
context is a thread local object. It means that you don't
need to care this if you don't create a new thread in your
test. This is only needed to care if you create a new
thread. You need to pass the current test context in your
test thread to the current test context in a created
thread.
</p>
<p>
e.g.:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="gtkdoc kwb">int</span>
<span class="function">your_thread_function</span><span class="symbol">(</span><span class="gtkdoc kwb">void</span> <span class="symbol">*</span>data<span class="symbol">)</span>
<span class="symbol">{</span>
    CutTestContext <span class="symbol">*</span>test_context <span class="symbol">=</span> data<span class="symbol">;</span>
    <span class="function"><a href="../cutter/cutter-Cutter.html#cut-set-current-test-context">cut_set_current_test_context</a></span><span class="symbol">(</span>test_context<span class="symbol">);</span>
    <span class="symbol">...</span>
<span class="symbol">}</span>

<span class="gtkdoc kwb">void</span>
<span class="function">run_your_thread</span><span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
    <span class="gtkdoc kwb">int</span> result<span class="symbol">;</span>
    pthread_t your_thread<span class="symbol">;</span>

    result <span class="symbol">=</span> <span class="function">pthread_create</span><span class="symbol">(&amp;</span>your_thread<span class="symbol">,</span> NULL<span class="symbol">,</span>
                            your_thread_function<span class="symbol">,</span>
                            <span class="function"><a href="../cutter/cutter-Cutter.html#cut-get-current-test-context">cut_get_current_test_context</a></span><span class="symbol">());</span>
    <span class="symbol">...</span>
<span class="symbol">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <span class="type">CutTestContext</span>.

</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.0.4</p>
</div>
<hr>
<div class="refsect2" title="cut_set_current_test_context()">
<a name="cut-set-current-test-context"></a><h3>cut_set_current_test_context()</h3>
<pre class="programlisting">#define             cut_set_current_test_context(test_context)</pre>
<p>
Set <em class="parameter"><code>test_context</code></em> as the current test context. See
<a class="link" href="cutter-Cutter.html#cut-get-current-test-context" title="cut_get_current_test_context"><code class="function">cut_get_current_test_context()</code></a> for more details.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>test_context</code></em> :</span></p></td>
<td>the <span class="type">CutTestContext</span> to be the current test
context.
</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.0.4</p>
</div>
<hr>
<div class="refsect2" title="cut_set_message ()">
<a name="cut-set-message"></a><h3>cut_set_message ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_set_message                     (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">cut_set_message</code> has been deprecated since version 1.1.0 and should not be used in newly-written code. Use <a class="link" href="cutter-Cutter.html#cut-message" title="cut_message ()"><code class="function">cut_message()</code></a> instead.</p>
</div>
<p>
Sets a message to be used by the next assertion.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>format</code></em> :</span></p></td>
<td>the message format. See the <code class="function">printf()</code> documentation.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>the parameters to insert into the format string.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_set_message_va_list ()">
<a name="cut-set-message-va-list"></a><h3>cut_set_message_va_list ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_set_message_va_list             (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code><span class="type">va_list</span> args</code></em>);</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">cut_set_message_va_list</code> has been deprecated since version 1.1.0 and should not be used in newly-written code. Use <a class="link" href="cutter-Cutter.html#cut-message" title="cut_message ()"><code class="function">cut_message()</code></a> instead.</p>
</div>
<p>
Sets a message to be used by the next assertion.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>format</code></em> :</span></p></td>
<td>the message format. See the <code class="function">printf()</code> documentation.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>args</code></em> :</span></p></td>
<td>the parameters to insert into the format string.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_keep_message ()">
<a name="cut-keep-message"></a><h3>cut_keep_message ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_keep_message                    (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">cut_keep_message</code> has been deprecated since version 1.1.0 and should not be used in newly-written code. Use <a class="link" href="cutter-Cutter.html#cut-message" title="cut_message ()"><code class="function">cut_message()</code></a> instead.</p>
</div>
<p>
Keeps the current message set by <a class="link" href="cutter-Cutter.html#cut-set-message" title="cut_set_message ()"><code class="function">cut_set_message()</code></a> or
<a class="link" href="cutter-Cutter.html#cut-set-message-va-list" title="cut_set_message_va_list ()"><code class="function">cut_set_message_va_list()</code></a> after the next assertion.
</p>
<p class="since">Since 1.0.6</p>
</div>
<hr>
<div class="refsect2" title="cut_message ()">
<a name="cut-message"></a><h3>cut_message ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                cut_message                         (<em class="parameter"><code>const <span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Specifies optional assertion message.
</p>
<p>
e.g.:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="function"><a href="../cutter/cutter-Assertions.html#cut-assert-equal-string">cut_assert_equal_string</a></span><span class="symbol">(</span><span class="string">&quot;abc&quot;</span><span class="symbol">,</span> <span class="string">&quot;def&quot;</span><span class="symbol">,</span>
                        <span class="function"><a href="../cutter/cutter-Cutter.html#cut-message">cut_message</a></span><span class="symbol">(</span><span class="string">&quot;should fail!&quot;</span><span class="symbol">));</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>format</code></em> :</span></p></td>
<td>the message format. See the <code class="function">printf()</code> documentation.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>the parameters to insert into the format string.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.1.0</p>
</div>
<hr>
<div class="refsect2" title="CUT_EXPORT">
<a name="CUT-EXPORT:CAPS"></a><h3>CUT_EXPORT</h3>
<pre class="programlisting">#define             CUT_EXPORT</pre>
<p>
Marks a function as a exported function. This is needed
for just Windows environment. If you want to run your
tests on Windows, you need to use this. Otherwise, you
don't need to use this.
</p>
<p>
e.g.:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5</pre></td>
        <td class="listing_code"><pre class="programlisting">CUT_EXPORT <span class="gtkdoc kwb">void</span>
<span class="function">test_add</span> <span class="symbol">(</span><span class="gtkdoc kwb">void</span><span class="symbol">)</span>
<span class="symbol">{</span>
  <span class="symbol">...</span>
<span class="symbol">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<p class="since">Since 1.1.2</p>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="cutter-Cutter.see-also"></a><h2>See Also</h2>
<a class="link" href="cutter-Assertions.html" title="Assertions">Assertions</a>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>